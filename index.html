<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ÁªàÊú´Âú∞Âü∫Ë¥®ËßÑÂàíÂô® (Endfield Essence Planner)</title>
    <link rel="icon" href="./favicon.ico" sizes="any" />
    <link rel="icon" href="./favicon-002.ico" sizes="32x32" />
    <link rel="icon" href="./favicon-003.ico" sizes="48x48" />
    <link rel="icon" href="./favicon-003.ico" sizes="64x64" />
    <link rel="icon" type="image/png" href="./favicon.png" />
    <!-- Êú¨Âú∞‰æùËµñÔºàËØ∑Â∞ÜÊñá‰ª∂ÊîæÂà∞ ./vendor/Ôºâ -->
    <link rel="stylesheet" href="./vendor/tailwind.min.css" />
    <style>
      :root {
        color-scheme: dark;
        --bg-0: #0b0f14;
        --bg-1: #101722;
        --bg-2: #141c2b;
        --panel: rgba(18, 24, 34, 0.72);
        --panel-strong: rgba(20, 28, 40, 0.9);
        --stroke: rgba(255, 255, 255, 0.08);
        --text: #e6e9ef;
        --muted: #9aa5b1;
        --accent: #f2b632;
        --accent-2: #4dd6c9;
        --ok: #57d28c;
        --warn: #f0b45a;
        --danger: #f36c6c;
        --shadow: 0 24px 60px rgba(0, 0, 0, 0.45);
        --radius-lg: 18px;
        --radius-md: 12px;
        --radius-sm: 8px;
        --bg-image: url("https://img.canmoe.com/image?img=ua");
        --rarity-6-frame: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAABQCAMAAAAQlwhOAAAC/VBMVEUhISELCwsXFxcFBQUKCgoFBQUFBQUGBQUHBwcICAgSEhIAAAAeDwczGAUWDAc/HAQuFgUQCgc3GQQjEQZPIwMpFQZRJAM6GwRNIgNVJgJGIANCHgRZJwNFHwRNIgBSJQFWJwJMIgBNIgFRJAJZKAJKIQNMIgBMIgFTJQJUJgJQJAFQJAFNIgFNIwFMIgBNIgFMIgBMIgBMIQBMIgBOIwFWJwNNIQBEHgQsFAUlEwZXJwILBgZTJgM+GwVOIwFLIgNMIgBLIQBMIgB8JwJmHwR1JwNuJANNIgCGJQNoJwJhJwNYJAOPKQNyJANjJQNfHgVMIgFXIQRMIAWLJwJOIgFrIARWHAVPHAWVKgJ5IQRcIgOBKQKAIwNhIwNeJQOSLgKVLgJ2JQNpIwNxIAR6LQGCKwFfJgJgJwJaJQJ1LQCVMgFVHwR7KQKAKAKaPAFWJQF/LwGCKAKGLgFWJABWJAGYOgGYNAFWJACUMwFXJAGSLgFPIwKVLQJZJQFaJQJcJgGmRAGaNwGXMQFmJQGXLAJ9KAKKMgGYOAFoKAFoJwFmJQGTLAJsJgKRNwFyLQCJMgGBLQFYJQBWJAGUNQFXJAF1KAJaJgCgPQF1LQFcJgFnJgFzKwFkJgF6KwGRLwF4KgFaJQFqKQFYJgBVJACcOgGKMgGaOAFzKwFUIwB9LAF5KQJ9KAJbJgF9KAJfKAKBMgGkQABxKgFTIwCILwGBLAFTJABnJgF7LQFXJAGDKgFTIwF9MQCUNgGCKwGDKwKCKgGCKQKGKQJxJwJrKQF+LQFxLAF4LABTIwB8LwBcJQFYKAKKMwFTIwCPNQFTJACEKwFfJQFnJgFnJgJzJwF0KAKfPgF/MwFaJQFUJAGaMQJlJQKIKQJkJQKsRQGlPAGfNQFVJAFkJQKSKgKBMgGiOAF7KgGaMAJyKAGZLANnJgKxSQFfJwCJLwFbJgFfJgGJLgFeJwCpQQFeJwB6KwFqJwFxKAKIKQJLIgBzKQFsKQFTJAGILwFmJgFlJwH/cQAtOKdTAAAA/nRSTlMEDgghEh4bJRgVCwAuOitCNyk8MVM0Vj9QW0pFYEi/g3DbuopjTe/LfXaQlq6o6rT55d/Vol39RjUyaSdYP5xO9M/Fb1RrYfRtZ2RYeGVgT9BSS3LFWEpGfWFVlWdaXamhaF1c+sJ6dJrwxE2dhvv14XPSsavz0M3LvbKcmZONgPzZvLmNgPXr6+Kok3v7+u3o5NzXwpXs69vaysjCwLuupvz78OXl39LS0aaOhnps9/a9/d/a19PKyLDr6uPLu6qknozz8eXk4dihavz57+a2sJ+Fg3Xy8bi2tJeLivTfxZ+RhP3Ss6uehm/8+9nTzMbz6ua5sal+xLXZpM3a8zbqYeMAABGsSURBVHja5I3hbsQwCINpr5uu2fu/73A+WVZVnbr9jpOAYwzUz2IortBZhH+ABoUQbyZ3xg3gfUPhbCT3I5td1qTlvjegSSc1hBQXxU5UgkhS0AdIxEpFiImCG90pKoKLv2kmFaCFwWEYUizDNjjLnSrIEp74Yqix77pjN8YMjckcCXYORVfDXCW7h+SpyZdV0+hxKGSPDDIfPzZAQ4ZY5kqosRhq27ahOwbZTCAnoA0FMg26ThDqGGhxeSDHk1UkBKgraSdlYpYGqJzrXPHaFkNt23F05s1wQAjzK2wQV/xXcAcNenG7hQbMFOOnkqlx4aDsLl+QPHf5z+bMj6+OxVDnTB3JZ9OOkVpodHIdTyym7nQh5c62YLcEoASWeUFWehAc2ITIdAumEDqp1LkY6j1xnv04zQJUxfZSsxN2tSP7KFzAKIU8jsuscUQL8gs8sBMxrYlTwFDvxVDff8I77JOaz/M03lX7T68ClPC4IajvxVBfi6Hu0uvOP5ryfcSL+Oh4MPCuasgz6rUYfmkfuxwHYRgI540XNqKLuEus3P9ey8RrfSALRaraaeKf8XhICyVYzh+ATWVSpNGSaxqWFMDoFwwznlmFrKAvy+k+LtAfBjCJTipyIoH+zdzrgdWhJU0+DFmWpSe6965IL2okGBQaBsu5B7RMu5uwj3NHlaMuVoAJYCu60vsroFIdoE3oHigUddywxrCKEI2oz/xDQzd8YO5lheu3XZ4oizqqUq941bU6YBLyeL1ztAnrg4MeQztfn6hQJr+yfgr7OzrIN7ZpYaf7xWzf7QwB8xCMnaUTJD++KAo5K3BXL8x1DyndMHZCFKvAMMYItxHixJMUYz1GpbWjHYff5tn+WxOjK3h2McEn5GanQgglqmEYtApJgxhbpnAhL2rj+2Z8zrW8Umk4xChcBB+X7YJGmdmsyDKqptPmUhq41FEoZov5Akz5+SC2S/2rk8A40pZoxe/hj/IxxpEYBIKgP3BCugQJ5HdM5Mw5kgP8CP6fX1efVuBgV9rxuujtafCw/a71A9bK4GMdK4+88Fg0WLsJB2b2zvhjkxvZ+v0kx9vO6+xnbcyRMzj8qLykvBRdt5xGJYT95DT/IUj078kqSlrfd7ZWHMeRQ8+MLySjNycbIis2BT0XxJ7XsIEyZp7a0vdV66SGfrL2iuxh3qZtmODUFU0kzPvBgA6a9fWNCucc39ZWoz7LRjxdjACofVckescYvcILdvTdurpdlNHkSxNsbTfjwYg2NPZ/3KwwxD1MRcaQhP5GRMAqeo4SHinm7F5j0SjoddupCIjQD+D4LVfBvy4whDJGkd8aGkrbP4c2DFHGOYigo51XqHlyKgyx7DiceDbZ42zqNtGbxGFqK8FGsDXmENHESxsRGukyPaNGLRHFY/sey9XCSvgjiw5WHIeBIIDmI4QQgTnqLwK6CBMwXiOBDmqkhUhH//99qzrj8YYxzEvRqR7JM7f7x/P1k/JBffJ0z/BIOtizv+cYPbJ6RJ2XHaaSTvOuOZbjC1+WjInqTz2ckcWpRWQP0z3rEjIrOZZMI+R5zJIzZPGQgxfbYfa7XvUg3vNNMgca7tdz8z748yfohwskOeS3SRy+SsKCRIdxKc7nUErIwc3CyoyqwPi2Jlimw9aEQfUO4hfUGTLqXJUacwilRlRijb9XfXaUp2JAmQWXTCXhyikm5hh4Aw7CW3dc7wSRM+LNueA+npSIqB0GeVsMJn0AMycGZmquhUVV1F47LFXghKhUrtaakCHrVeuTxVbgaCUEN7iq7+7CrCZwybA+kRNPpXoDPW/KZUm0AyPCd4KcGOrUQG7m5xFiOz7c2i3yOlbYh9AFmKEui4WVWeqAVnNvw6HShqGdlSb8srHe6KpKa4ZWFp8TculzdWkCddVuamVd/ju11365CB2G9stVqMDzuRlr19VaSgbto9OFjm85XzZWtm2Fr8rclh/Hky7fDmvN9kTx0S7X51u8gO3Pl7mWfq/y1NZYp/hTvaxB3h7neX/bgOP1h27dnJcc+DfRBzsdPDq1faX2H1l0jONICEQB1KdoqaQOuQIZGSrUjYGEpIN2SxyBK2/kY+z/YHtt7QRPpdH/XdTMzd2vyy3uXi7nnJTH4twVMC9XpqXR0MS5ex62c9gcgltehpjDMFe45Bowt4oPC250vPSBL25VFserUarngu/WWfqp4vdtw1aZQVQXzOedHzjd8to3/lQuaOBuPJL/DlkwB5QoNoXgkC9l+AD3S25SiohAkr9sNCjNeonYNvSbFcFmoY3BSvF0BsfcEuezslrr9faCjFeBSRmHjLcvWfWjus3SdLOsbp+tYRv7Xha5Sz65qTVLM7CZSt4t84XVgoP3aPGTadRirezKedcMs8cs6ldrV0+L3wrmvlnMVVmqnvGkYq0mtRRLrU8MVmqHJU3raiUmfqAd3uK6Q0WsHqjC3yrjxUrB1diU+mfrXhtsw1wDVF+GK2wKL21wbbhD1hwFVdyKg9d1jTr0dP+2U+0R9s5IrwXWMSfPyBDPhf7wQ2X8YDUd8W08pomlo0Kd8R8V1llNhTtSHI5NyXz2Jf3y3yO9h4ZyBkZ1OK+M8GaMwaVwn3aF+nKHfth7RDClt3h0Ny8Nns7gl/0PSrxxiHl/G+EzMfjsDP6oqzHpyeonTtPUwP/3JR1+HjmNU+8NVbO+7/tL9xzjPAoDUQDmJqEkV/BVaKhC5RtYSgOV3eYU/PYdcOmS0JGKYmUuQL3zbP+yd1GaTyPxHuOpGDPrwRg7ohqueoXnETTMuZNk5ldHwV2zoGNuDbP2pNMe1dNT1ey7gZ5+YLzH7Hfj2OFPRqUhlAbtYJxXF6sOpfQDSDsOn7euO+1wQRbV5xE0eIE2zhmSqnSHSx7pyqrularruh+hKuXRnhxhz4Mbr+EIB6iCYxIlPiA4wBpiLuQIylTKSp2rpVudzfv0pjAHxz09Eo4o/Rovy6q+erzV/X6PKh59k+9NBR8kh48tibjkUUQk4lxkN4mg/KLYUBIc8cJUFV+qW7mvND4vyxFP4mMyXkZXVnZpmmaZLrbQtk9ygs822ZByggJaYRHpsq1Y8FEgfnHpWpS6CfHCVO1QvZaEJLEPM4I2uaAqn7B46jRFG/jfZdXndrt9XsEW2sJX+0O28GdOIji/YIfZdphfSYt496Fg1yF+MZX+wPYfv1TnUJqv+zDHffMHFk9NUoS0+b7gX7bnEMlBIIgCKHfBBYueqxAZMSeYqY0YiY8dVnMDVECOopBgCAK4wFK1FbX9p5MAm5hXVPL/dHcQhuEgh/9W8FKdSQnP1cOQPEqYwEtyeSknWCUD/kzOnxymCvFJIr6VqxOqx23p+HLYzWMHXg9VlpeUUMoQXv5fFhwOnewOZO4tV+fyiyzh19ZEIuKdpxkqKCdYqg6RxAcnOLH4pWtLxFuJ+E5fbdfqxk7xd8mTYMJ2qCa85Nuq8gDn9abcOwfRKW+iKGrY62p+PZFXeHoakUUOFWy8ecs2iCsE1cZ2tWnxwMzxnTOqrS+x6k1UG44rtvG+LcnmEdzclD8MXJZqIVK2SAV0WoulcELoorhpcSOF9gpXZ0ILpzKKL3YRpMnIzCxC68JQ6absS2eM06SlB5wp6MWlRzXrqcRqVIWgqtY3axwFra+2CvOMog24SpO05qlkimeUey4G9esbM1yBYEM3adwn+MpgTOM4TrfW8Lf+juP7CL/rh3fSjvHT1GRk9vCHrA1K1noNSoa1VE37GsEe1XHngmr/obSK4LKdZ1NU/aS6Zu/rquMd/vA1+/v+yJ5DJQdhKAqgfAkCXYaviolsdzKp7OwntKok9StRUeEb4qhaTDyCis5gNvc9dkO35kwG7s3LK0Jd14/5AXsWX579R11/zGS/8Tann4F8yCeCq6j2MiAiEWRlNow9giOq84tPVMeQ49kgb2T/Pg/VW8jP2zrXEMHAO5FhDslit9t92k8o2JDsxCFp4UFkw2R3JIKyQ1CzqAodUlDKQ1ZDLVEdBYIRVRtnSOc5dqiOuao1lFTSrMC8cTNPYp6d6GFbxcaOd8pasmiadGqSItuJISnEvWnuU3aYbPNrmkzibBXOQg0pqPWfg1ZQaVTjhHik+IuoThEljq9SSbECVZUn8WxLk6bpnhVQwEF0vE3WskVlnKmqXz1s/THp4NGTi6+g+9OoFsFVlLxCSWePKmvigmBE1b2IC5ZoOJjVKCld4exRfZvnND1swTyIp7IVbHmb/7pjYdy1LMvrF2uSrb8kv+Blv2dL6FgEzy2CJxZVf0bpDC/saTV9NqcFwW9U3Yu4IO2L6onikC8wa9XzpOz5iirNw/PI/FRfQgTNnnby2/0u5Q/Zc4/jLAwGAThXSZUD5AT2CVz4IIhma6ooXRSKkNTmrzaLKGg34hScACxRIaQU34xBXzba5pExM37tXem0lPjWGjopZV42UuqSNmHYyBlqqZuhnGcJ9SwfcY6dPMqlnvPogQPKyEmt47iZZx1HjZZNBHUTxfjp+lDOMu9LqWUJpYYs9Tl2wh5TWZJrCca4jIOzdlGISB6hxHma6wcmlTEvGQ4N1mEIG4hqWGqNC+cSbwofm3rG+2ap+b55Vx8Oh7rzVg7m1Rfs6Ff1y6E7UFpnOYObNeOZw884Y3A128RP1w8M9h2DH+Zw6N0afxtBl8XeitW/82J/pQEeINeriEMG3bC+6ZedgzslFL6FgqMQYqkKoYoOiqKqCiUKy/VoE0SgUqJuEwSTDDsiMQus2hHBth2Fgoxn2ahUYbBWY28xI5k62EFFcUA3JdD2IyZlBvHRGF9tMXVElTuVEGoxnJ3QdZ7q/DxrEfcqquB64QSl2i5KiNrWwr+P62qEy+54fAWvI73DJfg+Hr+DX1p6T5MjDRhsuU7M6gIDc0ewbVcZN8bb0ptlcAoY/DCB6cSSMfAO3yWvYXC5/ZnnJ6Wtv15KU/u+qmXwZRfvC368L9ntz8/zfr8/B3f4c7nCZwCvlwtNL3v6XGXw9MPIJqvBCdVre2LVez15b/R+S3nuFDD4IQ9IJ1bNzcdX19Jp/796e3LS5jaP1fTqZQl+XvWcnt9etvfR5/Uf13OI9CoMRQG4q6nsTLuCuGwEEwMKj0p5AkINXcA/1aB/JNCq1IFjA1U8fGfeOUmntM98IpzDvXeDew+Hw59igX1xg1d6K1ZP5nqAluJeBl+yWhwXBO3x5EXw6DwfUV3OFwanBjZf9vDyl9XzmXG4lrwGEdwLry/9PE662Bs0XuP0q/Zc0vibPl3o9XbYNOl+v0+LxXnf7+9NQ4vCOcKTUXtoaWp72MfKyWoTLwja4915QnAYnHxZasPg1DD4ZQ/NxKqPv4xZQpW6au3ig3edZ+xp1dxp8V41Nelq8XFfg/gm3e12aVc6f3e73+5/S6N20NI0puolq2NcImhXy9g5xKzWhsFpZPBLBe3E0lAzDtfSR7UenYoOH/Ms1zNOrakZ36umOqXG2X3dBzfb7fbZzbDtfmBHf7xVh4dSq7dtTNXLFo7xjKCNGY9Xy4HOtWZwGhn0PrwK2onVoWa89vrSWm3rDuJep59XoqQzrqo151G6pQw+dcuqt3J+3Kc2Uj6DWQrZBpGUMqBRVUVCQClFpHOJFx0IIZ5ZC/Mwl0KosIVVOONjFkZSQFbDMBKQL3Oi8V/1qIQU1aOSggohq4fCL7Npxow6iWCSsFqzOidQ4F6U8iTgSnWAKu6VkvPwgyyLoKaR1k7+3S+Je2ELpWirp8B91cyXgKU8/9f+HNwwDMJQAM1IOTERZ7oCC5gdzAKVWMNs4VuyQ9X/Q1TaFdL48BQh/8Bf1j3u67pq7DDSPnRareD4cahCyzAp9IRoF6k0wZoo+iK6Z+Pi9oTPHwuUjdGcuX5Y8wjNKPrCeKqMft1nh2Idmn+eqqZTH85+pfQFfUMIGhuMtA2d4ieBRqiiEH1pUuipYlFSo/yuacgTPJqLm0P/sUD0RShnrlN6hGYUfWE8/bpPqEmDYtQcno80nfrw06+V0sLy+rO5C1997sJXn7vw1efvCr8BRdNOx/VoZhUAAAAASUVORK5CYII=");
        --rarity-5-frame: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAABQCAMAAAAQlwhOAAAApVBMVEUTExMAAAAICAgFBQUMDAwGBgYGBgZDNgRXRgNRQQMLCQdIOgMtJQZLPQMWEgcmHwVURANZRwI+MgROPwM2LAQyKQUfGQc7MARNPQBMPQBMPQBMPQBMPQBMPABMPQBMPQBMPQBMPQBMPQBMPQFMPQBNPgFNPQFNPgBNPgFOPwFOPwFRQQJSQQJTQgJUQwJWRAJXRgJQQAFPPwFQQQJRQQJYRgL/zADL21eWAAAANnRSTlMKABQiDxkdRl5WJ0s2TysyWmJCUzw5Lz/9+PTv6uXf29XQysW/urSuqKKcioN9dnBpkJaWkWYUAubtAAADz0lEQVR42uyPjXKbMBCELzZOp8HGM2Ds93/Twv30G0WQa+tpOxNlkdDd7t4K5KUxfP3wZ4fIyy89RcOCKxXvqbTJk3PxA+e25X3OM2A8MdD8Q3xd3Si6rpN1iegZlUGKl3MxYryWzpgeZBjUGrJfiYerFBCdBOVefCRyKVDWniI3lMbQ4A8fDstydFp3nW4VkHh3BYOCl9UxtINuwcEed5Nf74jv/PAIy7ESEKWSnnJoDO398ElxOCx7fbQCxp6Udy2cVhV2p0kqRJu1ELY+yHpNvI0DdCAC4xcYVTcf7AY5NYb2fvhVcbKDRs+aB8usESeoeJcCfQTWKheedJUiLTlRAK6J67d0eW0MUlPHut410aY4psZjGsEuWIoccmwMzf7wm73+DEzmRt1PBDw7Jm+NQX94GAbrhmXRORXC4A1mbXSpAbOSjDDBu4iN0gpeykWhjW6/IFzv0iEKyaNkaAxy/30MGTek889fCUMPuW+Xa+Cuq0DF5CLkPZ1KnckNfDL8nXo7Uc7n63ndVz21WxSjrtoaC1TWAWW91Lc1hqjD7JPkG+ceZ+JeYnyAGJvGhM+juJpfAXKe12PWBYzb7yFr11x66fD6hRAzBgBJUYO8oue1TjIs823OcLupyXYNaE5bcAkiHTM0HCSUqvlnUcntQzzsSB2PxJ6M7yp59AOlljY0eexgpNyXc8OYjY8jXXrVmLlyyNgY5NsuRt4bGiV16UVPMCYMyFLGWPtYfrjfFKBrBW3HwJmAvMSbJMRH5UHSNwbpL5dlKYxZC+uUsUpdvS+VzeuKW/tgjQlnbELCbwM/VVcckYzHdm9JBAXBF+lJ4/kqy+UCpuoAMH8TUyYnei7ItIELZQ6mdDGceP8TZPoeoAKIqZbTcBPa3uiEH5a2EitpBz/IHZNchWEgiNYy7Np3+J95Jtz/aqRVbUqAUSTEsOgX4nouDwGTidGUVt1uJ+Y/bZSoVCuatY4ZRW10wzjANQ01FZ6mma5Vywlf2Nvo2q3ky7Q/jO4OY4xg3Rsx04Vu9A+ByHIdFBR6YcGqplZ4nG+JjmWb0hDGQ6WZlNtuG6YW1LOLHuUbnBnkt7djnwzskoFtMrBJBtbJwCoZODyhHx75GH0d1DR9nF6bdbRdvLQRp6M/Rx9Pbo6rZhzVSFw9aEwVcTJ6GtUtrqk9jzPr/ZQ4wjmdytAHawT6R9RwLJOBRTIwTwZmycA0GfhPBv6ScWl/PggACGEABkbGDzYe8C8NH03PwbFlWDJMGYYMXYYmQ5WhyPDL8MnwyvDIcGQyHF2Go8twdLrwBYaapiWyYIAJAAAAAElFTkSuQmCC");
        --weapon-frame-bg: url("data:image/png;base64,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");
        --font-title: "DIN Alternate", "Bahnschrift", "Microsoft YaHei UI", "PingFang SC", sans-serif;
        --font-body: "Bahnschrift", "Microsoft YaHei UI", "PingFang SC", sans-serif;
        --rarity-6-bg: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAABQCAMAAAAQlwhOAAAC/VBMVEUhISELCwsXFxcFBQUKCgoFBQUFBQUGBQUHBwcICAgSEhIAAAAeDwczGAUWDAc/HAQuFgUQCgc3GQQjEQZPIwMpFQZRJAM6GwRNIgNVJgJGIANCHgRZJwNFHwRNIgBSJQFWJwJMIgBNIgFRJAJZKAJKIQNMIgBMIgFTJQJUJgJQJAFQJAFNIgFNIwFMIgBNIgFMIgBMIgBMIQBMIgBOIwFWJwNNIQBEHgQsFAUlEwZXJwILBgZTJgM+GwVOIwFLIgNMIgBLIQBMIgB8JwJmHwR1JwNuJANNIgCGJQNoJwJhJwNYJAOPKQNyJANjJQNfHgVMIgFXIQRMIAWLJwJOIgFrIARWHAVPHAWVKgJ5IQRcIgOBKQKAIwNhIwNeJQOSLgKVLgJ2JQNpIwNxIAR6LQGCKwFfJgJgJwJaJQJ1LQCVMgFVHwR7KQKAKAKaPAFWJQF/LwGCKAKGLgFWJABWJAGYOgGYNAFWJACUMwFXJAGSLgFPIwKVLQJZJQFaJQJcJgGmRAGaNwGXMQFmJQGXLAJ9KAKKMgGYOAFoKAFoJwFmJQGTLAJsJgKRNwFyLQCJMgGBLQFYJQBWJAGUNQFXJAF1KAJaJgCgPQF1LQFcJgFnJgFzKwFkJgF6KwGRLwF4KgFaJQFqKQFYJgBVJACcOgGKMgGaOAFzKwFUIwB9LAF5KQJ9KAJbJgF9KAJfKAKBMgGkQABxKgFTIwCILwGBLAFTJABnJgF7LQFXJAGDKgFTIwF9MQCUNgGCKwGDKwKCKgGCKQKGKQJxJwJrKQF+LQFxLAF4LABTIwB8LwBcJQFYKAKKMwFTIwCPNQFTJACEKwFfJQFnJgFnJgJzJwF0KAKfPgF/MwFaJQFUJAGaMQJlJQKIKQJkJQKsRQGlPAGfNQFVJAFkJQKSKgKBMgGiOAF7KgGaMAJyKAGZLANnJgKxSQFfJwCJLwFbJgFfJgGJLgFeJwCpQQFeJwB6KwFqJwFxKAKIKQJLIgBzKQFsKQFTJAGILwFmJgFlJwH/cQAtOKdTAAAA/nRSTlMEDgghEh4bJRgVCwAuOitCNyk8MVM0Vj9QW0pFYEi/g3DbuopjTe/LfXaQlq6o6rT55d/Vol39RjUyaSdYP5xO9M/Fb1RrYfRtZ2RYeGVgT9BSS3LFWEpGfWFVlWdaXamhaF1c+sJ6dJrwxE2dhvv14XPSsavz0M3LvbKcmZONgPzZvLmNgPXr6+Kok3v7+u3o5NzXwpXs69vaysjCwLuupvz78OXl39LS0aaOhnps9/a9/d/a19PKyLDr6uPLu6qknozz8eXk4dihavz57+a2sJ+Fg3Xy8bi2tJeLivTfxZ+RhP3Ss6uehm/8+9nTzMbz6ua5sal+xLXZpM3a8zbqYeMAABGsSURBVHja5I3hbsQwCINpr5uu2fu/73A+WVZVnbr9jpOAYwzUz2IortBZhH+ABoUQbyZ3xg3gfUPhbCT3I5td1qTlvjegSSc1hBQXxU5UgkhS0AdIxEpFiImCG90pKoKLv2kmFaCFwWEYUizDNjjLnSrIEp74Yqix77pjN8YMjckcCXYORVfDXCW7h+SpyZdV0+hxKGSPDDIfPzZAQ4ZY5kqosRhq27ahOwbZTCAnoA0FMg26ThDqGGhxeSDHk1UkBKgraSdlYpYGqJzrXPHaFkNt23F05s1wQAjzK2wQV/xXcAcNenG7hQbMFOOnkqlx4aDsLl+QPHf5z+bMj6+OxVDnTB3JZ9OOkVpodHIdTyym7nQh5c62YLcEoASWeUFWehAc2ITIdAumEDqp1LkY6j1xnv04zQJUxfZSsxN2tSP7KFzAKIU8jsuscUQL8gs8sBMxrYlTwFDvxVDff8I77JOaz/M03lX7T68ClPC4IajvxVBfi6Hu0uvOP5ryfcSL+Oh4MPCuasgz6rUYfmkfuxwHYRgI540XNqKLuEus3P9ey8RrfSALRaraaeKf8XhICyVYzh+ATWVSpNGSaxqWFMDoFwwznlmFrKAvy+k+LtAfBjCJTipyIoH+zdzrgdWhJU0+DFmWpSe6965IL2okGBQaBsu5B7RMu5uwj3NHlaMuVoAJYCu60vsroFIdoE3oHigUddywxrCKEI2oz/xDQzd8YO5lheu3XZ4oizqqUq941bU6YBLyeL1ztAnrg4MeQztfn6hQJr+yfgr7OzrIN7ZpYaf7xWzf7QwB8xCMnaUTJD++KAo5K3BXL8x1DyndMHZCFKvAMMYItxHixJMUYz1GpbWjHYff5tn+WxOjK3h2McEn5GanQgglqmEYtApJgxhbpnAhL2rj+2Z8zrW8Umk4xChcBB+X7YJGmdmsyDKqptPmUhq41FEoZov5Akz5+SC2S/2rk8A40pZoxe/hj/IxxpEYBIKgP3BCugQJ5HdM5Mw5kgP8CP6fX1efVuBgV9rxuujtafCw/a71A9bK4GMdK4+88Fg0WLsJB2b2zvhjkxvZ+v0kx9vO6+xnbcyRMzj8qLykvBRdt5xGJYT95DT/IUj078kqSlrfd7ZWHMeRQ8+MLySjNycbIis2BT0XxJ7XsIEyZp7a0vdV66SGfrL2iuxh3qZtmODUFU0kzPvBgA6a9fWNCucc39ZWoz7LRjxdjACofVckescYvcILdvTdurpdlNHkSxNsbTfjwYg2NPZ/3KwwxD1MRcaQhP5GRMAqeo4SHinm7F5j0SjoddupCIjQD+D4LVfBvy4whDJGkd8aGkrbP4c2DFHGOYigo51XqHlyKgyx7DiceDbZ42zqNtGbxGFqK8FGsDXmENHESxsRGukyPaNGLRHFY/sey9XCSvgjiw5WHIeBIIDmI4QQgTnqLwK6CBMwXiOBDmqkhUhH//99qzrj8YYxzEvRqR7JM7f7x/P1k/JBffJ0z/BIOtizv+cYPbJ6RJ2XHaaSTvOuOZbjC1+WjInqTz2ckcWpRWQP0z3rEjIrOZZMI+R5zJIzZPGQgxfbYfa7XvUg3vNNMgca7tdz8z748yfohwskOeS3SRy+SsKCRIdxKc7nUErIwc3CyoyqwPi2Jlimw9aEQfUO4hfUGTLqXJUacwilRlRijb9XfXaUp2JAmQWXTCXhyikm5hh4Aw7CW3dc7wSRM+LNueA+npSIqB0GeVsMJn0AMycGZmquhUVV1F47LFXghKhUrtaakCHrVeuTxVbgaCUEN7iq7+7CrCZwybA+kRNPpXoDPW/KZUm0AyPCd4KcGOrUQG7m5xFiOz7c2i3yOlbYh9AFmKEui4WVWeqAVnNvw6HShqGdlSb8srHe6KpKa4ZWFp8TculzdWkCddVuamVd/ju11365CB2G9stVqMDzuRlr19VaSgbto9OFjm85XzZWtm2Fr8rclh/Hky7fDmvN9kTx0S7X51u8gO3Pl7mWfq/y1NZYp/hTvaxB3h7neX/bgOP1h27dnJcc+DfRBzsdPDq1faX2H1l0jONICEQB1KdoqaQOuQIZGSrUjYGEpIN2SxyBK2/kY+z/YHtt7QRPpdH/XdTMzd2vyy3uXi7nnJTH4twVMC9XpqXR0MS5ex62c9gcgltehpjDMFe45Bowt4oPC250vPSBL25VFserUarngu/WWfqp4vdtw1aZQVQXzOedHzjd8to3/lQuaOBuPJL/DlkwB5QoNoXgkC9l+AD3S25SiohAkr9sNCjNeonYNvSbFcFmoY3BSvF0BsfcEuezslrr9faCjFeBSRmHjLcvWfWjus3SdLOsbp+tYRv7Xha5Sz65qTVLM7CZSt4t84XVgoP3aPGTadRirezKedcMs8cs6ldrV0+L3wrmvlnMVVmqnvGkYq0mtRRLrU8MVmqHJU3raiUmfqAd3uK6Q0WsHqjC3yrjxUrB1diU+mfrXhtsw1wDVF+GK2wKL21wbbhD1hwFVdyKg9d1jTr0dP+2U+0R9s5IrwXWMSfPyBDPhf7wQ2X8YDUd8W08pomlo0Kd8R8V1llNhTtSHI5NyXz2Jf3y3yO9h4ZyBkZ1OK+M8GaMwaVwn3aF+nKHfth7RDClt3h0Ny8Nns7gl/0PSrxxiHl/G+EzMfjsDP6oqzHpyeonTtPUwP/3JR1+HjmNU+8NVbO+7/tL9xzjPAoDUQDmJqEkV/BVaKhC5RtYSgOV3eYU/PYdcOmS0JGKYmUuQL3zbP+yd1GaTyPxHuOpGDPrwRg7ohqueoXnETTMuZNk5ldHwV2zoGNuDbP2pNMe1dNT1ey7gZ5+YLzH7Hfj2OFPRqUhlAbtYJxXF6sOpfQDSDsOn7euO+1wQRbV5xE0eIE2zhmSqnSHSx7pyqrularruh+hKuXRnhxhz4Mbr+EIB6iCYxIlPiA4wBpiLuQIylTKSp2rpVudzfv0pjAHxz09Eo4o/Rovy6q+erzV/X6PKh59k+9NBR8kh48tibjkUUQk4lxkN4mg/KLYUBIc8cJUFV+qW7mvND4vyxFP4mMyXkZXVnZpmmaZLrbQtk9ygs822ZByggJaYRHpsq1Y8FEgfnHpWpS6CfHCVO1QvZaEJLEPM4I2uaAqn7B46jRFG/jfZdXndrt9XsEW2sJX+0O28GdOIji/YIfZdphfSYt496Fg1yF+MZX+wPYfv1TnUJqv+zDHffMHFk9NUoS0+b7gX7bnEMlBIIgCKHfBBYueqxAZMSeYqY0YiY8dVnMDVECOopBgCAK4wFK1FbX9p5MAm5hXVPL/dHcQhuEgh/9W8FKdSQnP1cOQPEqYwEtyeSknWCUD/kzOnxymCvFJIr6VqxOqx23p+HLYzWMHXg9VlpeUUMoQXv5fFhwOnewOZO4tV+fyiyzh19ZEIuKdpxkqKCdYqg6RxAcnOLH4pWtLxFuJ+E5fbdfqxk7xd8mTYMJ2qCa85Nuq8gDn9abcOwfRKW+iKGrY62p+PZFXeHoakUUOFWy8ecs2iCsE1cZ2tWnxwMzxnTOqrS+x6k1UG44rtvG+LcnmEdzclD8MXJZqIVK2SAV0WoulcELoorhpcSOF9gpXZ0ILpzKKL3YRpMnIzCxC68JQ6absS2eM06SlB5wp6MWlRzXrqcRqVIWgqtY3axwFra+2CvOMog24SpO05qlkimeUey4G9esbM1yBYEM3adwn+MpgTOM4TrfW8Lf+juP7CL/rh3fSjvHT1GRk9vCHrA1K1noNSoa1VE37GsEe1XHngmr/obSK4LKdZ1NU/aS6Zu/rquMd/vA1+/v+yJ5DJQdhKAqgfAkCXYaviolsdzKp7OwntKok9StRUeEb4qhaTDyCis5gNvc9dkO35kwG7s3LK0Jd14/5AXsWX579R11/zGS/8Tann4F8yCeCq6j2MiAiEWRlNow9giOq84tPVMeQ49kgb2T/Pg/VW8jP2zrXEMHAO5FhDslit9t92k8o2JDsxCFp4UFkw2R3JIKyQ1CzqAodUlDKQ1ZDLVEdBYIRVRtnSOc5dqiOuao1lFTSrMC8cTNPYp6d6GFbxcaOd8pasmiadGqSItuJISnEvWnuU3aYbPNrmkzibBXOQg0pqPWfg1ZQaVTjhHik+IuoThEljq9SSbECVZUn8WxLk6bpnhVQwEF0vE3WskVlnKmqXz1s/THp4NGTi6+g+9OoFsFVlLxCSWePKmvigmBE1b2IC5ZoOJjVKCld4exRfZvnND1swTyIp7IVbHmb/7pjYdy1LMvrF2uSrb8kv+Blv2dL6FgEzy2CJxZVf0bpDC/saTV9NqcFwW9U3Yu4IO2L6onikC8wa9XzpOz5iirNw/PI/FRfQgTNnnby2/0u5Q/Zc4/jLAwGAThXSZUD5AT2CVz4IIhma6ooXRSKkNTmrzaLKGg34hScACxRIaQU34xBXzba5pExM37tXem0lPjWGjopZV42UuqSNmHYyBlqqZuhnGcJ9SwfcY6dPMqlnvPogQPKyEmt47iZZx1HjZZNBHUTxfjp+lDOMu9LqWUJpYYs9Tl2wh5TWZJrCca4jIOzdlGISB6hxHma6wcmlTEvGQ4N1mEIG4hqWGqNC+cSbwofm3rG+2ap+b55Vx8Oh7rzVg7m1Rfs6Ff1y6E7UFpnOYObNeOZw884Y3A128RP1w8M9h2DH+Zw6N0afxtBl8XeitW/82J/pQEeINeriEMG3bC+6ZedgzslFL6FgqMQYqkKoYoOiqKqCiUKy/VoE0SgUqJuEwSTDDsiMQus2hHBth2Fgoxn2ahUYbBWY28xI5k62EFFcUA3JdD2IyZlBvHRGF9tMXVElTuVEGoxnJ3QdZ7q/DxrEfcqquB64QSl2i5KiNrWwr+P62qEy+54fAWvI73DJfg+Hr+DX1p6T5MjDRhsuU7M6gIDc0ewbVcZN8bb0ptlcAoY/DCB6cSSMfAO3yWvYXC5/ZnnJ6Wtv15KU/u+qmXwZRfvC368L9ntz8/zfr8/B3f4c7nCZwCvlwtNL3v6XGXw9MPIJqvBCdVre2LVez15b/R+S3nuFDD4IQ9IJ1bNzcdX19Jp/796e3LS5jaP1fTqZQl+XvWcnt9etvfR5/Uf13OI9CoMRQG4q6nsTLuCuGwEEwMKj0p5AkINXcA/1aB/JNCq1IFjA1U8fGfeOUmntM98IpzDvXeDew+Hw59igX1xg1d6K1ZP5nqAluJeBl+yWhwXBO3x5EXw6DwfUV3OFwanBjZf9vDyl9XzmXG4lrwGEdwLry/9PE662Bs0XuP0q/Zc0vibPl3o9XbYNOl+v0+LxXnf7+9NQ4vCOcKTUXtoaWp72MfKyWoTLwja4915QnAYnHxZasPg1DD4ZQ/NxKqPv4xZQpW6au3ig3edZ+xp1dxp8V41Nelq8XFfg/gm3e12aVc6f3e73+5/S6N20NI0puolq2NcImhXy9g5xKzWhsFpZPBLBe3E0lAzDtfSR7UenYoOH/Ms1zNOrakZ36umOqXG2X3dBzfb7fbZzbDtfmBHf7xVh4dSq7dtTNXLFo7xjKCNGY9Xy4HOtWZwGhn0PrwK2onVoWa89vrSWm3rDuJep59XoqQzrqo151G6pQw+dcuqt3J+3Kc2Uj6DWQrZBpGUMqBRVUVCQClFpHOJFx0IIZ5ZC/Mwl0KosIVVOONjFkZSQFbDMBKQL3Oi8V/1qIQU1aOSggohq4fCL7Npxow6iWCSsFqzOidQ4F6U8iTgSnWAKu6VkvPwgyyLoKaR1k7+3S+Je2ELpWirp8B91cyXgKU8/9f+HNwwDMJQAM1IOTERZ7oCC5gdzAKVWMNs4VuyQ9X/Q1TaFdL48BQh/8Bf1j3u67pq7DDSPnRareD4cahCyzAp9IRoF6k0wZoo+iK6Z+Pi9oTPHwuUjdGcuX5Y8wjNKPrCeKqMft1nh2Idmn+eqqZTH85+pfQFfUMIGhuMtA2d4ieBRqiiEH1pUuipYlFSo/yuacgTPJqLm0P/sUD0RShnrlN6hGYUfWE8/bpPqEmDYtQcno80nfrw06+V0sLy+rO5C1997sJXn7vw1efvCr8BRdNOx/VoZhUAAAAASUVORK5CYII=");
        --rarity-5-bg: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAABQCAMAAAAQlwhOAAAApVBMVEUTExMAAAAICAgFBQUMDAwGBgYGBgZDNgRXRgNRQQMLCQdIOgMtJQZLPQMWEgcmHwVURANZRwI+MgROPwM2LAQyKQUfGQc7MARNPQBMPQBMPQBMPQBMPQBMPABMPQBMPQBMPQBMPQBMPQBMPQFMPQBNPgFNPQFNPgBNPgFOPwFOPwFRQQJSQQJTQgJUQwJWRAJXRgJQQAFPPwFQQQJRQQJYRgL/zADL21eWAAAANnRSTlMKABQiDxkdRl5WJ0s2TysyWmJCUzw5Lz/9+PTv6uXf29XQysW/urSuqKKcioN9dnBpkJaWkWYUAubtAAADz0lEQVR42uyPjXKbMBCELzZOp8HGM2Ds93/Twv30G0WQa+tpOxNlkdDd7t4K5KUxfP3wZ4fIyy89RcOCKxXvqbTJk3PxA+e25X3OM2A8MdD8Q3xd3Si6rpN1iegZlUGKl3MxYryWzpgeZBjUGrJfiYerFBCdBOVefCRyKVDWniI3lMbQ4A8fDstydFp3nW4VkHh3BYOCl9UxtINuwcEed5Nf74jv/PAIy7ESEKWSnnJoDO398ElxOCx7fbQCxp6Udy2cVhV2p0kqRJu1ELY+yHpNvI0DdCAC4xcYVTcf7AY5NYb2fvhVcbKDRs+aB8usESeoeJcCfQTWKheedJUiLTlRAK6J67d0eW0MUlPHut410aY4psZjGsEuWIoccmwMzf7wm73+DEzmRt1PBDw7Jm+NQX94GAbrhmXRORXC4A1mbXSpAbOSjDDBu4iN0gpeykWhjW6/IFzv0iEKyaNkaAxy/30MGTek889fCUMPuW+Xa+Cuq0DF5CLkPZ1KnckNfDL8nXo7Uc7n63ndVz21WxSjrtoaC1TWAWW91Lc1hqjD7JPkG+ceZ+JeYnyAGJvGhM+juJpfAXKe12PWBYzb7yFr11x66fD6hRAzBgBJUYO8oue1TjIs823OcLupyXYNaE5bcAkiHTM0HCSUqvlnUcntQzzsSB2PxJ6M7yp59AOlljY0eexgpNyXc8OYjY8jXXrVmLlyyNgY5NsuRt4bGiV16UVPMCYMyFLGWPtYfrjfFKBrBW3HwJmAvMSbJMRH5UHSNwbpL5dlKYxZC+uUsUpdvS+VzeuKW/tgjQlnbELCbwM/VVcckYzHdm9JBAXBF+lJ4/kqy+UCpuoAMH8TUyYnei7ItIELZQ6mdDGceP8TZPoeoAKIqZbTcBPa3uiEH5a2EitpBz/IHZNchWEgiNYy7Np3+J95Jtz/aqRVbUqAUSTEsOgX4nouDwGTidGUVt1uJ+Y/bZSoVCuatY4ZRW10wzjANQ01FZ6mma5Vywlf2Nvo2q3ky7Q/jO4OY4xg3Rsx04Vu9A+ByHIdFBR6YcGqplZ4nG+JjmWb0hDGQ6WZlNtuG6YW1LOLHuUbnBnkt7djnwzskoFtMrBJBtbJwCoZODyhHx75GH0d1DR9nF6bdbRdvLQRp6M/Rx9Pbo6rZhzVSFw9aEwVcTJ6GtUtrqk9jzPr/ZQ4wjmdytAHawT6R9RwLJOBRTIwTwZmycA0GfhPBv6ScWl/PggACGEABkbGDzYe8C8NH03PwbFlWDJMGYYMXYYmQ5WhyPDL8MnwyvDIcGQyHF2Go8twdLrwBYaapiWyYIAJAAAAAElFTkSuQmCC");
        --weapon-bg: url("data:image/png;base64,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");
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: var(--font-body);
        color: var(--text);
        background-image:
          radial-gradient(1200px 800px at 8% 10%, rgba(77, 214, 201, 0.18), transparent 55%),
          radial-gradient(1000px 700px at 92% 0%, rgba(242, 182, 50, 0.12), transparent 50%),
          radial-gradient(700px 500px at 70% 90%, rgba(116, 131, 255, 0.08), transparent 60%),
          linear-gradient(120deg, rgba(11, 15, 20, 0.85), rgba(16, 23, 34, 0.85) 45%, rgba(20, 28, 43, 0.85)),
          var(--bg-image);
        background-size: auto, auto, auto, auto, cover;
        background-position: center, center, center, center, center;
        background-repeat: no-repeat;
        background-attachment: fixed;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        background-image:
          linear-gradient(120deg, rgba(255, 255, 255, 0.035) 0%, rgba(255, 255, 255, 0) 30%),
          repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.02) 0 1px, transparent 1px 6px);
        mix-blend-mode: screen;
        opacity: 0.25;
      }

      .app-shell {
        position: relative;
        z-index: 1;
        padding: 32px 28px 48px;
        max-width: 1400px;
        margin: 0 auto;
      }

      .hero {
        display: flex;
        flex-wrap: wrap;
        gap: 16px 24px;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 24px;
      }

      .hero h1 {
        margin: 0;
        font-family: var(--font-title);
        font-size: clamp(26px, 3.4vw, 42px);
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }

      .hero p {
        margin: 6px 0 0;
        color: var(--muted);
        max-width: 680px;
        line-height: 1.6;
      }

      .hero .accent {
        color: var(--accent);
        font-weight: 600;
      }

      .layout {
        display: grid;
        grid-template-columns: minmax(280px, 1fr) minmax(360px, 1.3fr);
        gap: 24px;
      }

      @media (max-width: 1024px) {
        .layout {
          grid-template-columns: 1fr;
        }
      }

      .panel {
        background: var(--panel);
        border: 1px solid var(--stroke);
        border-radius: var(--radius-lg);
        padding: 22px;
        box-shadow: var(--shadow);
        backdrop-filter: blur(14px);
      }

      .panel-title {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
      }

      .panel-title h2 {
        margin: 0;
        font-size: 18px;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        font-weight: 600;
      }

      .ghost-button {
        border: 1px solid var(--stroke);
        background: transparent;
        color: var(--muted);
        padding: 6px 12px;
        border-radius: var(--radius-sm);
        cursor: pointer;
        transition: 0.2s ease;
      }

      .ghost-button:hover {
        border-color: rgba(255, 255, 255, 0.22);
        color: var(--text);
      }

      .about-button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 14px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.18);
        background: rgba(12, 16, 24, 0.6);
        color: var(--text);
        cursor: pointer;
        transition: 0.2s ease;
        font-size: 12px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }

      .about-button:hover {
        border-color: rgba(255, 255, 255, 0.35);
        transform: translateY(-1px);
      }

      .about-overlay {
        position: fixed;
        inset: 0;
        background: rgba(6, 8, 12, 0.72);
        backdrop-filter: blur(10px);
        display: grid;
        place-items: center;
        z-index: 40;
      }

      .about-card {
        width: min(640px, 92vw);
        padding: 22px 24px;
        border-radius: var(--radius-lg);
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(14, 20, 30, 0.92);
        box-shadow: var(--shadow);
      }

      .about-card h3 {
        margin: 0 0 8px;
        font-size: 18px;
        letter-spacing: 0.08em;
      }

      .about-card p {
        margin: 0 0 10px;
        color: var(--muted);
        line-height: 1.6;
      }

      .about-links {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 12px;
      }

      .repo-link {
        position: relative;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 10px 16px;
        border-radius: 999px;
        border: 1px solid rgba(77, 214, 201, 0.4);
        color: #e8f6ff;
        text-decoration: none;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-size: 12px;
        background:
          linear-gradient(140deg, rgba(12, 20, 30, 0.95), rgba(8, 14, 22, 0.8));
        box-shadow:
          inset 0 0 0 1px rgba(77, 214, 201, 0.18),
          0 12px 30px rgba(0, 0, 0, 0.35);
        transition: 0.2s ease;
      }

      .repo-link::before {
        content: "";
        position: absolute;
        inset: -1px;
        border-radius: inherit;
        background:
          linear-gradient(120deg, rgba(77, 214, 201, 0.55), rgba(242, 182, 50, 0.35), rgba(116, 131, 255, 0.45));
        opacity: 0.6;
        filter: blur(8px);
        z-index: -1;
      }

      .repo-link:hover {
        border-color: rgba(255, 255, 255, 0.5);
        box-shadow:
          inset 0 0 0 1px rgba(77, 214, 201, 0.35),
          0 0 18px rgba(77, 214, 201, 0.25),
          0 12px 30px rgba(0, 0, 0, 0.35);
      }

      .repo-chip {
        padding: 2px 8px;
        border-radius: 999px;
        font-size: 10px;
        letter-spacing: 0.12em;
        background: rgba(77, 214, 201, 0.2);
        border: 1px solid rgba(77, 214, 201, 0.5);
        color: #bff5ef;
      }

      .repo-arrow {
        font-size: 14px;
        opacity: 0.8;
      }

      .about-actions {
        display: flex;
        justify-content: flex-end;
        margin-top: 14px;
      }

      .search-box {
        display: flex;
        gap: 8px;
        align-items: center;
        padding: 10px 12px;
        border-radius: var(--radius-md);
        background: rgba(8, 12, 18, 0.7);
        border: 1px solid var(--stroke);
        margin-bottom: 16px;
      }

      .search-box input {
        flex: 1;
        background: transparent;
        border: none;
        outline: none;
        color: var(--text);
        font-size: 14px;
      }

      .tag-row {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 16px;
      }

      .tag {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid var(--stroke);
        background: rgba(20, 26, 36, 0.85);
        font-size: 12px;
        color: var(--text);
      }

      .tag button {
        background: transparent;
        border: none;
        color: var(--muted);
        cursor: pointer;
        font-size: 12px;
      }

      .weapon-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(108px, 1fr));
        gap: 8px;
      }

      .weapon-item {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        min-height: 108px;
        aspect-ratio: 1 / 1;
        border-radius: 8px;
        border: 1px solid var(--stroke);
        background: rgba(12, 14, 18, 0.92);
        cursor: pointer;
        transition: 0.2s ease;
        overflow: hidden;
      }

      .weapon-item:hover {
        border-color: rgba(255, 255, 255, 0.35);
        transform: none;
      }

      .weapon-item.is-selected {
        border-color: rgba(77, 214, 201, 0.5);
        box-shadow: 0 0 0 1px rgba(77, 214, 201, 0.35), 0 12px 30px rgba(0, 0, 0, 0.35);
      }

      .weapon-item::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 8px;
        border: 2px solid rgba(255, 255, 255, 0);
        background: rgba(255, 255, 255, 0);
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
        opacity: 0;
        transition: 0.2s ease;
        z-index: 4;
        pointer-events: none;
      }

      .weapon-item:hover::after {
        opacity: 1;
        border-color: rgba(255, 255, 255, 0.75);
        background: rgba(255, 255, 255, 0.03);
        box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.4);
      }

      .weapon-item::before {
        content: "";
        position: absolute;
        inset: 0;
        background-image: var(--weapon-frame-bg);
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        opacity: 0.9;
        z-index: 0;
        pointer-events: none;
      }

      .weapon-item.rarity-6 .weapon-name {
        background-image: var(--rarity-6-frame);
      }

      .weapon-item.rarity-5 .weapon-name {
        background-image: var(--rarity-5-frame);
      }

      .weapon-art {
        position: absolute;
        inset: 0;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .weapon-figure {
        width: 100%;
        height: 100%;
        object-fit: cover;
        padding: 0;
        filter: none;
      }

      .weapon-fallback-large {
        font-weight: 700;
        color: #e6e9ef;
      }

      .weapon-band {
        position: absolute;
        left: -1px;
        right: -1px;
        bottom: 0;
        height: 42.5px;
        background-image: linear-gradient(90deg, rgba(122, 118, 148, 0.7), rgba(84, 82, 110, 0.9));
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center bottom;
        z-index: 2;
      }

      .weapon-item.rarity-6 .weapon-band {
        background-image: var(--rarity-6-frame);
      }

      .weapon-item.rarity-5 .weapon-band {
        background-image: var(--rarity-5-frame);
      }

      .weapon-name {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 10px;
        height: 28px;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 1;
        align-items: center;
        justify-content: center;
        padding: 0 8px;
        font-family: "SF Pro", "Noto Sans", "Segoe UI", "Helvetica Neue",
          "Source Han Sans", "Arial", system-ui, sans-serif;
        font-size: 14px;
        line-height: 120%;
        font-weight: 600;
        letter-spacing: 0;
        text-align: center;
        color: #f5f2ee;
        overflow: hidden;
        text-overflow: ellipsis;
        text-shadow: 0 1px 6px rgba(0, 0, 0, 0.65);
        z-index: 3;
      }

      .weapon-mini {
        display: grid;
        place-items: center;
        width: 26px;
        height: 26px;
        border-radius: 8px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.04);
        overflow: hidden;
      }

      .weapon-mini img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        padding: 3px;
      }

      .weapon-fallback {
        width: 100%;
        height: 100%;
        display: grid;
        place-items: center;
        font-weight: 700;
        font-size: 11px;
        color: #0c1118;
      }

      .recommendations {
        display: grid;
        gap: 16px;
      }

      .card {
        background: var(--panel-strong);
        border-radius: var(--radius-lg);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 20px;
        box-shadow: var(--shadow);
      }

      .card-header {
        display: flex;
        flex-wrap: wrap;
        gap: 12px 18px;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 16px;
      }

      .card-title {
        font-size: 18px;
        font-weight: 600;
        letter-spacing: 0.06em;
      }

      .strategy-row {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        border-radius: 999px;
        background: rgba(77, 214, 201, 0.12);
        border: 1px solid rgba(77, 214, 201, 0.4);
        color: #d7fff8;
        font-size: 12px;
      }

      .pill.warn {
        background: rgba(242, 182, 50, 0.12);
        border-color: rgba(242, 182, 50, 0.4);
        color: #ffe7b2;
      }

      .s1-block {
        margin-bottom: 14px;
        padding: 12px;
        border-radius: var(--radius-md);
        border: 1px solid var(--stroke);
        background: rgba(10, 14, 22, 0.6);
      }

      .s1-header {
        display: flex;
        flex-wrap: wrap;
        gap: 10px 16px;
        align-items: center;
        margin-bottom: 8px;
      }

      .s1-title {
        font-weight: 600;
      }

      .status-ok {
        color: var(--ok);
      }

      .status-warn {
        color: var(--warn);
      }

      .chip-row {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .chip {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(87, 210, 140, 0.4);
        background: rgba(87, 210, 140, 0.12);
        color: #d9ffe7;
      }

      .chip.warn {
        border-color: rgba(240, 180, 90, 0.45);
        background: rgba(240, 180, 90, 0.1);
        color: #ffe8c3;
      }

      .hint {
        margin-top: 8px;
        font-size: 12px;
        color: var(--muted);
      }

      .scheme-weapon-list {
        display: grid;
        gap: 10px;
        margin-top: 12px;
      }

      .lock-summary {
        margin: 12px 0 16px;
        padding: 14px;
        border-radius: var(--radius-md);
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(10, 14, 22, 0.78);
        display: grid;
        gap: 10px;
      }

      .lock-title {
        font-size: 12px;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: var(--muted);
      }

      .lock-items {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .lock-chip {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 8px 12px;
        border-radius: 999px;
        border: 1px solid rgba(87, 210, 140, 0.35);
        background: rgba(87, 210, 140, 0.12);
        color: #d9ffe7;
        font-size: 12px;
        font-weight: 600;
        letter-spacing: 0.02em;
      }

      .lock-chip.attr {
        border-color: rgba(255, 112, 0, 0.55);
        background: rgba(255, 112, 0, 0.12);
        color: #ffd2ad;
      }

      .lock-chip.warn {
        border-color: rgba(243, 108, 108, 0.55);
        background: rgba(243, 108, 108, 0.14);
        color: #ffd1d1;
      }

      .scheme-weapon-item {
        padding: 12px 14px;
        border-radius: var(--radius-md);
        border: 1px solid var(--stroke);
        background: rgba(10, 14, 22, 0.72);
        display: grid;
        gap: 6px;
      }

      .scheme-weapon-item.is-selected {
        border-color: rgba(77, 214, 201, 0.5);
        background: rgba(18, 34, 40, 0.88);
      }

      .scheme-weapon-title {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        font-weight: 600;
      }

      .scheme-weapon-title .badge {
        padding: 2px 6px;
        border-radius: 999px;
        font-size: 11px;
        background: rgba(77, 214, 201, 0.15);
        color: #c9fff7;
        border: 1px solid rgba(77, 214, 201, 0.4);
      }

      .scheme-weapon-title .rarity {
        font-size: 11px;
        color: var(--muted);
      }

      .scheme-weapon-attrs {
        font-size: 12px;
        color: var(--muted);
        display: flex;
        flex-wrap: wrap;
        gap: 6px 10px;
      }

      .attr-value {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 2px 8px;
        border-radius: 999px;
        border: 1px solid transparent;
        background: rgba(255, 255, 255, 0.02);
        color: inherit;
      }

      .attr-value.locked {
        border-color: rgba(242, 182, 50, 0.5);
        background: rgba(242, 182, 50, 0.12);
        color: #ffe7b2;
      }

      .attr-value.base-lock {
        border-color: rgba(87, 210, 140, 0.5);
        background: rgba(87, 210, 140, 0.12);
        color: #d9ffe7;
      }

      .attr-value.conflict {
        border-color: rgba(243, 108, 108, 0.55);
        background: rgba(243, 108, 108, 0.14);
        color: #ffd1d1;
      }

      .empty {
        padding: 24px;
        border-radius: var(--radius-lg);
        border: 1px dashed rgba(255, 255, 255, 0.12);
        color: var(--muted);
      }

      .byproducts {
        margin-top: 14px;
        padding: 12px;
        border-radius: var(--radius-md);
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(8, 12, 18, 0.7);
      }

      .byproducts h4 {
        margin: 0 0 8px;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
      }

      .byproducts .row {
        display: grid;
        gap: 6px;
        margin-bottom: 8px;
        font-size: 12px;
      }

      .byproducts .row strong {
        color: var(--accent-2);
      }

    </style>
  </head>
  <body>
    <div id="app" class="app-shell">
      <header class="hero">
        <div>
          <h1>ÁªàÊú´Âú∞Âü∫Ë¥®ËßÑÂàíÂô®</h1>
          <p>
            Ê†πÊçÆ <span class="accent">ÈôÑÂä†/ÊäÄËÉΩÂ±ûÊÄßÊ±†</span> ‰∏é <span class="accent">ÈîÅÂÆöËßÑÂàô</span> Ëá™Âä®Âà§ÂÆöÂÖ±Âà∑ÊñπÊ°à„ÄÇ
            Âü∫Á°ÄÂ±ûÊÄß‰ªÖÂèØ‰∏âÈÄâÔºåÁ≥ªÁªü‰ºöÁªôÂá∫ÂÜ≤Á™ÅÊèêÁ§∫‰∏éÊé®Ëçê‰∏âÈÄâ„ÄÇ
          </p>
        </div>
        <div>
          <button class="about-button" @click="showAbout = true">ÂÖ≥‰∫é</button>
        </div>
      </header>

      <main class="layout">
        <section class="panel">
          <div class="panel-title">
            <h2>Ê≠¶Âô®ÈÄâÊã©Âô®</h2>
            <button class="ghost-button" @click="clearSelection" :disabled="!selectedNames.length">
              Ê∏ÖÁ©∫
            </button>
          </div>

          <div class="search-box">
            <span>üîç</span>
            <input v-model="searchQuery" placeholder="ÊêúÁ¥¢Ê≠¶Âô® / Â±ûÊÄß..." />
          </div>

          <div class="tag-row">
            <span v-if="!selectedNames.length" class="tag">Êú™ÈÄâÊã©‰ªª‰ΩïÊ≠¶Âô®</span>
            <span v-for="weapon in selectedWeapons" :key="weapon.name" class="tag">
              {{ weapon.name }}
              <button @click.stop="toggleWeapon(weapon)">‚úï</button>
            </span>
          </div>

          <div class="weapon-list">
            <div
              v-for="weapon in filteredWeapons"
              :key="weapon.name"
              class="weapon-item"
              :class="{
                'is-selected': selectedNameSet.has(weapon.name),
                'rarity-6': weapon.rarity === 6,
                'rarity-5': weapon.rarity === 5,
              }"
              @click="toggleWeapon(weapon)"
            >
              <div class="weapon-art">
                <img
                  v-if="hasImage(weapon)"
                  class="weapon-figure"
                  :src="weaponImageSrc(weapon)"
                  :alt="weapon.name"
                />
                <span v-else class="weapon-fallback-large">{{ weapon.rarity }}‚òÖ</span>
              </div>
              <div class="weapon-band"></div>
              <div class="weapon-name">{{ weapon.name }}</div>
            </div>
          </div>
        </section>

        <section class="panel">
          <div class="panel-title">
            <h2>ÊñπÊ°àÊé®ËçêÂàóË°®</h2>
            <div class="pill">Â∑≤ÈÄâ {{ selectedWeapons.length }} Êää</div>
          </div>

          <div v-if="!selectedWeapons.length" class="empty">
            ËØ∑ÈÄâÊã©Ëá≥Â∞ë‰∏ÄÊääÊ≠¶Âô®ÔºåÁ≥ªÁªüÂ∞ÜËá™Âä®Êé®ËçêÂèØÂÖ±Âà∑ÁöÑÂâØÊú¨ÊñπÊ°à„ÄÇ
          </div>

          <div v-else-if="!recommendations.length" class="recommendations">
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">ÂΩìÂâçÁªÑÂêàÊó†ÂèØÁî®ÊñπÊ°à</div>
                  <div class="hint">ÈôÑÂä†/ÊäÄËÉΩÂ±ûÊÄßÊó†Ê≥ïÁªü‰∏ÄÈîÅÂÆöÔºåÊàñÂâØÊú¨Ê±†‰∏çË¶ÜÁõñÊâÄÈúÄËØçÊù°„ÄÇ</div>
                </div>
                <div class="strategy-row">
                  <span class="pill warn">ËØ∑ÊãÜÂàÜÊâπÊ¨°Âà∑Âèñ</span>
                </div>
              </div>

              <div class="lock-summary" v-if="fallbackPlan">
                <div class="lock-title">ÈîÅÂÆöÊñπÊ°àÔºà‰ªÖÊòæÁ§∫ÂÜ≤Á™ÅÊèêÁ§∫Ôºâ</div>
                <div class="lock-items">
                  <span class="lock-chip" :class="{ warn: fallbackPlan.baseOverflow }">
                    {{ fallbackPlan.baseOverflow ? "Âü∫Á°ÄÂ±ûÊÄßÂÜ≤Á™Å" : "Âü∫Á°ÄÂ±ûÊÄß" }}Ôºö
                    {{
                      (fallbackPlan.baseOverflow ? fallbackPlan.baseAllLabels : fallbackPlan.basePickLabels).join(
                        " / "
                      )
                    }}
                  </span>
                  <span class="lock-chip warn" v-if="fallbackPlan.s2Conflict">
                    ÈôÑÂä†Â±ûÊÄßÂÜ≤Á™ÅÔºàÊó†Ê≥ïÁªü‰∏ÄÈîÅÂÆöÔºâ
                  </span>
                  <span class="lock-chip warn" v-if="fallbackPlan.s3Conflict">
                    ÊäÄËÉΩÂ±ûÊÄßÂÜ≤Á™ÅÔºàÊó†Ê≥ïÁªü‰∏ÄÈîÅÂÆöÔºâ
                  </span>
                </div>
              </div>

              <div class="hint">Â∑≤ÈÄâÊ≠¶Âô®ÔºàÂÜ≤Á™ÅÈ°πÊ†áÁ∫¢Ôºâ</div>
              <div class="scheme-weapon-list">
                <div
                  v-for="weapon in fallbackPlan.weaponRows"
                  :key="weapon.name"
                  class="scheme-weapon-item is-selected"
                >
                  <div class="scheme-weapon-title">
                    <span>{{ weapon.name }}</span>
                    <span class="rarity" :style="rarityTextStyle(weapon.rarity)">
                      {{ weapon.rarity }}‚òÖ
                    </span>
                    <span class="badge">Â∑≤ÈÄâ</span>
                  </div>
                  <div class="scheme-weapon-attrs">
                    <span class="attr-value">Á±ªÂûãÔºö{{ weapon.type }}</span>
                    <span
                      class="attr-value"
                      :class="{
                        'base-lock': weapon.baseLocked,
                        conflict: weapon.baseConflict,
                      }"
                    >
                      Âü∫Á°ÄÂ±ûÊÄßÔºö{{ formatS1(weapon.s1) }}
                    </span>
                    <span class="attr-value" :class="{ conflict: fallbackPlan.s2Conflict }">
                      ÈôÑÂä†Â±ûÊÄßÔºö{{ weapon.s2 }}
                    </span>
                    <span class="attr-value" :class="{ conflict: fallbackPlan.s3Conflict }">
                      ÊäÄËÉΩÂ±ûÊÄßÔºö{{ weapon.s3 }}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div v-else class="recommendations">
            <div v-for="card in recommendations" :key="card.dungeon.id" class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">{{ card.dungeon.name }}</div>
                  <div class="hint">ÈôÑÂä†Â±ûÊÄßÊ±† / ÊäÄËÉΩÂ±ûÊÄßÊ±† ÂùáÂ∑≤Êª°Ë∂≥ÊâÄÈÄâÊ≠¶Âô®ÈúÄÊ±Ç</div>
                </div>
                <div class="strategy-row">
                  <span class="pill warn">ÂèØÂêåÊó∂Âà∑ {{ card.weaponCount }} Êää</span>
                </div>
              </div>

              <div class="lock-summary">
                <div class="lock-title">ÈîÅÂÆöÊñπÊ°à</div>
                <div class="lock-items">
                  <span class="lock-chip" :class="{ warn: card.baseOverflow }">
                    {{ card.baseOverflow ? "Âü∫Á°ÄÂ±ûÊÄßÂÜ≤Á™Å" : "Âü∫Á°ÄÂ±ûÊÄß" }}Ôºö
                    {{ (card.baseOverflow ? card.baseAllLabels : card.basePickLabels).join(" / ") }}
                  </span>
                  <span class="lock-chip attr">ÈîÅÂÆö{{ card.lockLabel }}Ôºö{{ card.lockValue }}</span>
                </div>
              </div>

              <div class="hint">
                ÂèØÂêåÊó∂Âà∑Ê≠¶Âô®Ôºö{{ card.weaponCount }} ÊääÔºàÂê´Â∑≤ÈÄâ {{ card.selectedCount }} ÊääÔºâ
              </div>

              <div class="scheme-weapon-list">
                <div
                  v-for="weapon in card.weaponRows"
                  :key="weapon.name"
                  class="scheme-weapon-item"
                  :class="{ 'is-selected': weapon.isSelected }"
                >
                  <div class="scheme-weapon-title">
                    <div class="weapon-mini" :style="rarityBadgeStyle(weapon.rarity, hasImage(weapon))">
                      <img v-if="hasImage(weapon)" :src="weaponImageSrc(weapon)" :alt="weapon.name" />
                      <span v-else class="weapon-fallback">{{ weapon.rarity }}‚òÖ</span>
                    </div>
                    <span>{{ weapon.name }}</span>
                    <span class="rarity" :style="rarityTextStyle(weapon.rarity)">
                      {{ weapon.rarity }}‚òÖ
                    </span>
                    <span v-if="weapon.isSelected" class="badge">Â∑≤ÈÄâ</span>
                  </div>
                  <div class="scheme-weapon-attrs">
                    <span class="attr-value">Á±ªÂûãÔºö{{ weapon.type }}</span>
                    <span
                      class="attr-value"
                      :class="{ 'base-lock': weapon.baseLocked, conflict: weapon.baseConflict }"
                    >
                      Âü∫Á°ÄÂ±ûÊÄßÔºö{{ formatS1(weapon.s1) }}
                    </span>
                    <span class="attr-value" :class="{ locked: card.lockType === 's2' }">
                      ÈôÑÂä†Â±ûÊÄßÔºö{{ weapon.s2 }}
                    </span>
                    <span class="attr-value" :class="{ locked: card.lockType === 's3' }">
                      ÊäÄËÉΩÂ±ûÊÄßÔºö{{ weapon.s3 }}
                    </span>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </section>
      </main>

      <div v-if="showAbout" class="about-overlay" @click.self="showAbout = false">
        <div class="about-card">
          <h3>ÂÖ≥‰∫éÊú¨Â∑•ÂÖ∑</h3>
          <p>Êú¨Â∑•ÂÖ∑‰∏∫„ÄäÊòéÊó•ÊñπËàüÔºöÁªàÊú´Âú∞„ÄãÁé©ÂÆ∂Ëá™Âà∂‰ΩúÂìÅÔºåÊó®Âú®Êèê‰æõÂèØËßÜÂåñÁöÑÂü∫Ë¥®Âà∑ÂèñËßÑÂàí„ÄÇ</p>
          <p>È°πÁõÆÂ±û‰∫éÊó©ÊúüÈò∂ÊÆµÔºåÂèØËÉΩÂ≠òÂú®Êï∞ÊçÆÈîôËØØÔºåÂ¶ÇÊúâÊ¨¢ËøéÂèçÈ¶àÊåáÂá∫„ÄÇ</p>
          <div class="about-links">
            <a
              class="repo-link"
              href="https://github.com/cmyyx/endfield-essence-planner"
              target="_blank"
              rel="noreferrer"
            >
              <span class="repo-chip">GITHUB</span>
              <span>È°πÁõÆ‰ªìÂ∫ì</span>
              <span class="repo-arrow">‚Üó</span>
            </a>
          </div>
          <div class="about-actions">
            <button class="ghost-button" @click="showAbout = false">ÂÖ≥Èó≠</button>
          </div>
        </div>
      </div>
    </div>

    <script src="./vendor/vue.global.prod.js"></script>
    <script src="./data/dungeons.js"></script>
    <script src="./data/weapons.js"></script>
    <script src="./data/weapon-images.js"></script>
    <script>
      const dungeons = Array.isArray(window.DUNGEONS) ? window.DUNGEONS : [];
      const weapons = Array.isArray(window.WEAPONS) ? window.WEAPONS : [];
      const weaponImages = new Set(Array.isArray(window.WEAPON_IMAGES) ? window.WEAPON_IMAGES : []);

      const S1_ORDER = ["ÊïèÊç∑ÊèêÂçá", "ÂäõÈáèÊèêÂçá", "ÊÑèÂøóÊèêÂçá", "Êô∫ËØÜÊèêÂçá", "‰∏ªËÉΩÂäõÊèêÂçá"];

      const normalizeText = (value) => (value || "").toString().trim().toLowerCase();

      const allSame = (values) => values.length > 0 && values.every((value) => value === values[0]);

      const countBy = (values) =>
        values.reduce((acc, value) => {
          if (!value || value === "‰ªªÊÑè") return acc;
          acc[value] = (acc[value] || 0) + 1;
          return acc;
        }, {});

      const formatS1 = (value) => value || "‰ªªÊÑè";

      const getS1OrderIndex = (value) => {
        const index = S1_ORDER.indexOf(value);
        return index === -1 ? 99 : index;
      };

      const isWeaponCompatible = (weapon, dungeon, lockOption) => {
        if (lockOption.type === "s2") {
          return (
            weapon.s2 === lockOption.value &&
            dungeon.s2_pool.includes(lockOption.value) &&
            dungeon.s3_pool.includes(weapon.s3)
          );
        }
        return (
          weapon.s3 === lockOption.value &&
          dungeon.s3_pool.includes(lockOption.value) &&
          dungeon.s2_pool.includes(weapon.s2)
        );
      };

      const { createApp, ref, computed } = Vue || {};

      if (!createApp) {
        document.body.innerHTML =
          "<div style='padding:24px;color:#f36c6c;font-family:Microsoft YaHei UI;'>Êú™ÊâæÂà∞ Vue 3 Êú¨Âú∞Êñá‰ª∂ÔºöËØ∑Â∞Ü vue.global.prod.js ÊîæÂÖ• ./vendor/</div>";
      } else if (!dungeons.length || !weapons.length) {
        document.body.innerHTML =
          "<div style='padding:24px;color:#f36c6c;font-family:Microsoft YaHei UI;'>Áº∫Â∞ëÊï∞ÊçÆÊñá‰ª∂ÔºöËØ∑Á°ÆËÆ§ ./data/dungeons.js ‰∏é ./data/weapons.js</div>";
      } else {
        createApp({
          setup() {
            const searchQuery = ref("");
            const selectedNames = ref([]);
            const showAbout = ref(false);

            const weaponMap = new Map(weapons.map((weapon) => [weapon.name, weapon]));

            const selectedWeapons = computed(() =>
              selectedNames.value.map((name) => weaponMap.get(name)).filter(Boolean)
            );

            const selectedNameSet = computed(() => new Set(selectedNames.value));

            const toggleWeapon = (weapon) => {
              const index = selectedNames.value.indexOf(weapon.name);
              if (index === -1) {
                selectedNames.value.push(weapon.name);
              } else {
                selectedNames.value.splice(index, 1);
              }
            };

            const clearSelection = () => {
              selectedNames.value = [];
            };

            const filteredWeapons = computed(() => {
              const query = normalizeText(searchQuery.value);
              return weapons
                .filter((weapon) => {
                  if (!query) return true;
                  return (
                    normalizeText(weapon.name).includes(query) ||
                    normalizeText(weapon.type).includes(query) ||
                    normalizeText(weapon.s1).includes(query) ||
                    normalizeText(weapon.s2).includes(query) ||
                    normalizeText(weapon.s3).includes(query)
                  );
                })
                .slice()
                .sort((a, b) => {
                  if (b.rarity !== a.rarity) return b.rarity - a.rarity;
                  return a.name.localeCompare(b.name, "zh-Hans-CN");
                });
            });

            const recommendations = computed(() => {
              const targets = selectedWeapons.value;
              if (!targets.length) return [];

              const lockOptions = [];
              if (targets.length === 1) {
                lockOptions.push({ type: "s2", label: "ÈôÑÂä†Â±ûÊÄß", value: targets[0].s2 });
                lockOptions.push({ type: "s3", label: "ÊäÄËÉΩÂ±ûÊÄß", value: targets[0].s3 });
              } else {
                if (allSame(targets.map((weapon) => weapon.s2))) {
                  lockOptions.push({ type: "s2", label: "ÈôÑÂä†Â±ûÊÄß", value: targets[0].s2 });
                }
                if (allSame(targets.map((weapon) => weapon.s3))) {
                  lockOptions.push({ type: "s3", label: "ÊäÄËÉΩÂ±ûÊÄß", value: targets[0].s3 });
                }
              }

              if (!lockOptions.length) return [];

              const baseCounts = countBy(targets.map((weapon) => weapon.s1));
              const baseKeys = Object.keys(baseCounts);
              const baseSorted = baseKeys.sort((a, b) => {
                if (baseCounts[b] !== baseCounts[a]) return baseCounts[b] - baseCounts[a];
                return getS1OrderIndex(a) - getS1OrderIndex(b);
              });
              const basePick = baseSorted.slice(0, 3);
              const baseOverflow = baseKeys.length > 3;
              const basePickLabels = basePick.slice();
              while (basePickLabels.length < 3) basePickLabels.push("‰ªªÊÑèÂ±ûÊÄß");
              const baseAllLabels = baseSorted.slice();

              const baseChips = baseSorted.map((key) => ({
                key,
                label: `${formatS1(key)} √ó${baseCounts[key]}`,
                overflow: baseOverflow && !basePick.includes(key),
              }));

              const selectedSet = new Set(selectedNames.value);
              const schemes = [];

              dungeons.forEach((dungeon) => {
                lockOptions.forEach((option) => {
                  const lockPool = option.type === "s2" ? dungeon.s2_pool : dungeon.s3_pool;
                  if (!lockPool.includes(option.value)) return;

                  const selectedOk = targets.every((weapon) =>
                    isWeaponCompatible(weapon, dungeon, option)
                  );
                  if (!selectedOk) return;

                  const schemeWeapons = weapons
                    .filter((weapon) => isWeaponCompatible(weapon, dungeon, option))
                    .slice()
                    .sort((a, b) => {
                      if (b.rarity !== a.rarity) return b.rarity - a.rarity;
                      return a.name.localeCompare(b.name, "zh-Hans-CN");
                    });

                  const weaponRows = schemeWeapons.map((weapon) => ({
                    ...weapon,
                    isSelected: selectedSet.has(weapon.name),
                    baseLocked: basePick.includes(weapon.s1),
                    baseConflict: baseOverflow && !basePick.includes(weapon.s1),
                  }));

                  schemes.push({
                    dungeon,
                    lockType: option.type,
                    lockLabel: option.label,
                    lockValue: option.value,
                    weaponRows,
                    weaponCount: schemeWeapons.length,
                    selectedCount: targets.length,
                    basePickLabels,
                    baseAllLabels,
                    baseOverflow,
                    baseCount: baseKeys.length,
                    baseChips,
                  });
                });
              });

              return schemes.sort((a, b) => {
                if (b.weaponCount !== a.weaponCount) return b.weaponCount - a.weaponCount;
                if (a.dungeon.name !== b.dungeon.name) {
                  return a.dungeon.name.localeCompare(b.dungeon.name, "zh-Hans-CN");
                }
                return a.lockLabel.localeCompare(b.lockLabel, "zh-Hans-CN");
              });
            });

            const fallbackPlan = computed(() => {
              const targets = selectedWeapons.value;
              if (!targets.length) return null;
              if (recommendations.value.length) return null;

              const baseCounts = countBy(targets.map((weapon) => weapon.s1));
              const baseKeys = Object.keys(baseCounts);
              const baseSorted = baseKeys.sort((a, b) => {
                if (baseCounts[b] !== baseCounts[a]) return baseCounts[b] - baseCounts[a];
                return getS1OrderIndex(a) - getS1OrderIndex(b);
              });
              const basePick = baseSorted.slice(0, 3);
              const baseOverflow = baseKeys.length > 3;
              const basePickLabels = basePick.slice();
              while (basePickLabels.length < 3) basePickLabels.push("‰ªªÊÑèÂ±ûÊÄß");
              const baseAllLabels = baseSorted.slice();

              const baseChips = baseSorted.map((key) => ({
                key,
                label: `${formatS1(key)} √ó${baseCounts[key]}`,
                overflow: baseOverflow && !basePick.includes(key),
              }));

              const s2Conflict = new Set(targets.map((weapon) => weapon.s2)).size > 1;
              const s3Conflict = new Set(targets.map((weapon) => weapon.s3)).size > 1;

              const weaponRows = targets
                .slice()
                .sort((a, b) => {
                  if (b.rarity !== a.rarity) return b.rarity - a.rarity;
                  return a.name.localeCompare(b.name, "zh-Hans-CN");
                })
                .map((weapon) => ({
                  ...weapon,
                  baseLocked: basePick.includes(weapon.s1),
                  baseConflict: baseOverflow && !basePick.includes(weapon.s1),
                }));

              return {
                basePickLabels,
                baseAllLabels,
                baseOverflow,
                baseCount: baseKeys.length,
                baseChips,
                weaponRows,
                s2Conflict,
                s3Conflict,
              };
            });

            const hasImage = (weapon) => weaponImages.has(weapon.name);
            const weaponImageSrc = (weapon) => encodeURI(`./image/${weapon.name}.png`);

            const rarityBadgeStyle = (rarity, withImage = false) => ({
              backgroundColor: withImage
                ? "rgba(255,255,255,0.04)"
                : rarity === 6
                  ? "#ff7000"
                  : rarity === 5
                    ? "#ffba03"
                    : "#9aa5b1",
              color: withImage ? "transparent" : "#0c1118",
            });

            const rarityTextStyle = (rarity) => ({
              color: rarity === 6 ? "#ff7000" : rarity === 5 ? "#ffba03" : "inherit",
            });

            return {
              searchQuery,
              selectedNames,
              selectedWeapons,
              selectedNameSet,
              filteredWeapons,
              recommendations,
              fallbackPlan,
              toggleWeapon,
              clearSelection,
              formatS1,
              rarityBadgeStyle,
              rarityTextStyle,
              hasImage,
              weaponImageSrc,
              showAbout,
            };
          },
        }).mount("#app");
      }
    </script>
  </body>
</html>
